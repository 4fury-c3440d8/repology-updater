{% include 'header.html' %}

{% include 'pagination.html' %}

{% set headerevery = 50 %}

<table>
{% for package in packages %}
    {% if loop.first or (headerevery != 0 and loop.index0 % headerevery == 0) %}
    <tr>
        <th></th>
        {% for reponame in reponames %}
            <th>{{ reponame | replace(' ', '<br>') }}</th>
        {% endfor %}
    </tr>
    {% endif %}
    <tr>
        <td>{{ package.name|spantrim(20) }}</td>
        {% for reponame in reponames %}
            {% set subpackage = package.versions[reponame] %}
            {% if subpackage is defined %}
                <td>
                    {% if subpackage.numpackages > 1 %}
                        <span class="version {{ subpackage.class }}">{{ subpackage.version|spantrim(9) }}</span>({{ subpackage.numpackages }})
                    {% else %}
                        <span class="version {{ subpackage.class }}">{{ subpackage.version|spantrim(12) }}</span>
                    {% endif %}
                </td>
            {% else %}
                <td>-</td>
            {% endif %}
        {% endfor %}
    </tr>
{% endfor %}
</table>

{% include 'pagination.html' %}

{% include 'footer.html' %}
