###########################################################################
# RPM Fusion Fedora
#
# See https://rpmfusion.org/#Browse_available_packages
###########################################################################

{% macro rpmfusion_fedora(version, minpackages) %}
- name: rpmfusion_fedora_{{version}}
  type: repository
  desc: RPM Fusion Fedora {{version}}
  family: fedora
  ruleset: [fedora,rpm]
  minpackages: {{minpackages}}
  sources:
    {% for sub1 in ['free', 'nonfree'] %}
    - name: {{sub1}}-release
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/{{sub1}}/fedora/releases/{{version}}/Everything/source/SRPMS/
      parser:
        class: RepodataParser
        vertags: fc
      subrepo: {{sub1}}/release
    - name: {{sub1}}-updates
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/{{sub1}}/fedora/updates/{{version}}/SRPMS/
      parser:
        class: RepodataParser
        vertags: fc
      subrepo: {{sub1}}/updates
    - name: {{sub1}}-updates-testing
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/{{sub1}}/fedora/updates/testing/{{version}}/SRPMS/
      parser:
        class: RepodataParser
        vertags: fc
      subrepo: {{sub1}}/updates-testing
    - name: {{sub1}}-tainted
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/{{sub1}}/fedora/tainted/{{version}}/SRPMS/
      parser:
        class: RepodataParser
        vertags: fc
      subrepo: {{sub1}}/tainted
    {% endfor %}
  repolinks:
    - desc: RPM Fusion home
      url: https://rpmfusion.org/
  groups: [ all, production, rpmfusion ]
{% endmacro %}

{{ rpmfusion_fedora(31, minpackages=300) }}
{{ rpmfusion_fedora(32, minpackages=300) }}
{{ rpmfusion_fedora(33, minpackages=300) }}
{{ rpmfusion_fedora(34, minpackages=300) }}
{{ rpmfusion_fedora(35, minpackages=300) }}

- name: rpmfusion_fedora_rawhide
  type: repository
  desc: RPM Fusion Fedora Rawhide
  family: fedora
  ruleset: [fedora,rpm]
  minpackages: 300
  sources:
    - name: free-development
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/free/fedora/development/rawhide/Everything/source/SRPMS/
      parser:
        class: RepodataParser
        vertags: fc
      subrepo: free/release
    - name: nonfree-development
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/nonfree/fedora/development/rawhide/Everything/source/SRPMS/
      parser:
        class: RepodataParser
        vertags: fc
      subrepo: nonfree/release
  repolinks:
    - desc: RPM Fusion home
      url: https://rpmfusion.org/
  groups: [ all, production, rpmfusion ]

###########################################################################
# RPM Fusion EL
###########################################################################
- name: rpmfusion_el_6
  type: repository
  desc: RPM Fusion EL 6
  family: fedora
  ruleset: [fedora,rpm]
  minpackages: 50
  sources:
    - name: free-updates
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/free/el/updates/6/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: free/updates
    - name: free-updates-testing
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/free/el/updates/testing/6/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: free/updates-testing
    - name: nonfree-updates
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/nonfree/el/updates/6/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: nonfree/updates
    - name: nonfree-updates-testing
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/nonfree/el/updates/testing/6/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: nonfree/updates-testing
  repolinks:
    - desc: RPM Fusion home
      url: https://rpmfusion.org/
  groups: [ all, production, rpmfusion ]

- name: rpmfusion_el_7
  type: repository
  desc: RPM Fusion EL 7
  family: fedora
  ruleset: [fedora,rpm]
  minpackages: 100
  sources:
    - name: free-updates
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/free/el/updates/7/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: free/updates
    - name: free-updates-testing
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/free/el/updates/testing/7/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: free/updates-testing
    - name: nonfree-updates
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/nonfree/el/updates/7/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: nonfree/updates
    - name: nonfree-updates-testing
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/nonfree/el/updates/testing/7/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: nonfree/updates-testing
  repolinks:
    - desc: RPM Fusion home
      url: https://rpmfusion.org/
  groups: [ all, production, rpmfusion ]

- name: rpmfusion_el_8
  type: repository
  desc: RPM Fusion EL 8
  family: fedora
  ruleset: [fedora,rpm]
  minpackages: 50
  sources:
    - name: free-updates
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/free/el/updates/8/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: free/updates
    - name: free-updates-testing
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/free/el/updates/testing/8/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: free/updates-testing
    - name: nonfree-updates
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/nonfree/el/updates/8/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: nonfree/updates
    - name: nonfree-updates-testing
      fetcher:
        class: RepodataFetcher
        url: https://download1.rpmfusion.org/nonfree/el/updates/testing/8/SRPMS/
      parser:
        class: RepodataParser
        vertags: el
      subrepo: nonfree/updates-testing
  repolinks:
    - desc: RPM Fusion home
      url: https://rpmfusion.org/
  groups: [ all, production, rpmfusion ]
