###########################################################################
# Fink
###########################################################################
- name: fink_repo
  type: repository
  desc: Fink
  family: fink
  ruleset: [fink, macosx]
  color: 'fdc461'
  minpackages: 0
  sources:
    - name: fink-distributions
      fetcher:
        class: GitFetcher
        url: 'https://github.com/fink/fink-distributions.git'
        sparse_checkout: [ '10.9-libcxx/stable/main/finkinfo/**/*.info' ]
      parser:
        class: FinkGitParser
  repolinks:
    - desc: Fink home
      url: http://www.finkproject.org/
    - desc: Fink package database
      url: http://pdb.finkproject.org/pdb/
  packagelinks:
    - desc: Package information
      url: 'http://pdb.finkproject.org/pdb/package.php/{name}'
    - desc: .info file
      url: 'https://github.com/fink/fink-distributions/blob/master/{infopath}'
  tags: [ all, fink ]  # unusable, too complex parsing required

- name: fink_pdb
  type: repository
  desc: Fink
  family: fink
  ruleset: [fink, macosx]
  color: 'fdc461'
  minpackages: 0
  sources:
    - name: browse.php.html
      fetcher:
        class: FileFetcher
        url: 'http://pdb.finkproject.org/pdb/browse.php?nochildren=on'
      parser:
        class: FinkPdbParser
  repolinks:
    - desc: Fink home
      url: http://www.finkproject.org/
    - desc: Fink package database
      url: http://pdb.finkproject.org/pdb/
  packagelinks:
    - desc: Package information
      url: 'http://pdb.finkproject.org/pdb/package.php/{name}'
  tags: [ all, fink ]  # unusable, polluted with suffixes
