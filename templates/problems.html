{% extends "layout.html" %}
{% import "macros.html" as macros %}

{% block title %}Repology: problems{% endblock %}
{% block header %}Problems{% endblock %}

{% block content %}
<div class="container">

{% if problems %}
<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th class="text-right">Repository</th>
			<th class="text-center">Metapackage</th>
			<th class="text-center">Package name</th>
			<th class="text-center">Maintainer</th>
			<th class="text-center">Severity</th>
			<th class="text-left">Problem</th>
		</tr>
	</thead>
	<tbody>
	{% for problem in problems %}
		<tr>
			<td class="text-right">{{- macros.repository_link(problem.repo) -}}</td>
			<td class="text-center"><a href="{{ url_for('metapackage', name=problem.effname) }}">{{ problem.effname }}</a></td>
			<td class="text-center">{{ problem.name }}</td>
			<td class="text-center"><a href="{{ url_for('maintainer', maintainer=problem.maintainer) }}">{{ problem.maintainer }}</a></td>
			<td class="text-center">
				{%- if problem.severity == 3 -%}
					<span class="text-danger">high</span>
				{%- elif problem.severity == 2 -%}
					<span class="text-warning">medium</span>
				{%- else -%}
					<span>low</span>
				{%- endif -%}
			</td>
			<td class="text-left">{{ problem.problem }}</td>
		</tr>
	{% endfor %}
	</tbody>
</table>
{% else %}
<div class="alert alert-success" role="alert">No problems found matching the criteria</div>
{% endif %}

</div> {#- container #}
{% endblock %}
